---
description: How to test Storybook with MCP browser so the agent can see and interact with stories
globs: 
alwaysApply: true
---

# Storybook testing with MCP browser

When using the MCP browser (e.g. user-playwright) to debug or test Storybook:

1. **Use direct iframe URLs** so the story renders in the main document. The manager UI renders the preview inside an iframe, which the browser automation cannot access. Loading the iframe URL directly avoids that.

   - Base URL: `http://localhost:6006/iframe.html?id=<story-id>&viewMode=story`
   - Example: `http://localhost:6006/iframe.html?id=datatable-columnchooser--default&viewMode=story`

2. **Story IDs** (title + story name, lowercased, slashes and spaces to `-`):
   - FluentDataTable: `datatable-fluentdatatable--default`, `datatable-fluentdatatable--empty`, `datatable-fluentdatatable--small-data-set`, etc.
   - ColumnChooser: `datatable-columnchooser--default`, `datatable-columnchooser--many-columns`, `datatable-columnchooser--some-hidden`
   - DataGridTable: `datatable-datagridtable--default`, `datatable-datagridtable--empty`, `datatable-datagridtable--empty-with-active-filters`, `datatable-datagridtable--with-people-filter`
   - PaginationControls: `datatable-paginationcontrols--default`, `datatable-paginationcontrols--first-page`, `datatable-paginationcontrols--many-pages`, `datatable-paginationcontrols--single-page`

3. **Ensure Storybook is running** (`npm run storybook`) before navigating.

4. To **list or discover story IDs**, open the manager once at `http://localhost:6006/` and check the sidebar URL when you click a story (e.g. `?path=/story/datatable-fluentdatatable--default`); the story id is the last segment.
